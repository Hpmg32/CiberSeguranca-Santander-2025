# Santander Cibersegurança 2025 - DIO

# 🐍 DESAFIO: SIMULAÇÃO DE MALWARE COM PYTHON

# 🔒 Ransomware Educacional

## ⚠️ **AVISO CRÍTICO DE SEGURANÇA**

Este projeto foi desenvolvido EXCLUSIVAMENTE para fins educacionais e de pesquisa em cibersegurança. O desenvolvimento, distribuição ou uso de ransomware é CRIME em praticamente todos os países. Use apenas em ambiente controlado, sistemas próprios e com autorização explícita.

## 📋 Descrição

Este projeto demonstra o funcionamento básico de um ransomware através de uma simulação educacional que inclui:

1. **Ransomware** (`ransoware.py`) - Criptografa arquivos em um diretório específico
2. **Descriptografador** (`descriptografar.py`) - Restaura os arquivos criptografados
3. **Ambiente de Teste** (`test_files/`) - Diretório com arquivos para simulação

## 🛠️ Tecnologias Utilizadas

- **Python 3.x**
- **cryptography** - Biblioteca para criptografia simétrica (Fernet)
- **os** - Manipulação de arquivos e diretórios
- **Algoritmo Fernet** - Criptografia simétrica AES 128 com autenticação

## 📦 Dependências

Para instalar as dependências necessárias:

```bash
pip install cryptography
```

## 📁 Estrutura dos Arquivos

```
ransomware/
├── ransoware.py           # Script principal do ransomware
├── descriptografar.py     # Script para descriptografar arquivos
├── chave.key             # Chave de criptografia (gerada automaticamente)
├── LEIA ISSO.txt         # Mensagem de resgate (gerada automaticamente)
├── test_files/           # Diretório de teste
│   ├── dados_confidenciais.txt
│   └── senhas.txt
└── README.md             # Este arquivo
```

## 🚀 Como Usar

### ⚠️ **IMPORTANTE: Execute apenas em ambiente isolado!**

### 1. Preparação do Ambiente

```bash
# Navegue até o diretório do ransomware
cd "Santander - Cibersegurança 2025/Simulando Malware - Python/ransomware"

# Instale as dependências
pip install cryptography
```

### 2. Executar o Ransomware (Simulação)

```bash
python ransoware.py
```

**O que acontece:**

- ✅ Gera uma chave de criptografia única
- ✅ Salva a chave no arquivo `chave.key`
- ✅ Criptografa todos os arquivos em `test_files/`
- ✅ Cria a mensagem de resgate `LEIA ISSO.txt`
- ✅ Exibe confirmação no terminal

### 3. Descriptografar os Arquivos

```bash
python descriptografar.py
```

**O que acontece:**

- ✅ Carrega a chave de criptografia
- ✅ Descriptografa todos os arquivos em `test_files/`
- ✅ Restaura os arquivos ao estado original
- ✅ Exibe confirmação no terminal

## 🔧 Funcionalidades Técnicas

### Algoritmo de Criptografia

- **Método:** Fernet (AES 128 em modo CBC com HMAC SHA256)
- **Chave:** 256 bits gerada aleatoriamente
- **Autenticação:** Inclui verificação de integridade
- **Segurança:** Resistente a ataques de modificação

### Processo de Criptografia

1. **Geração de Chave:**

   ```python
   chave = Fernet.generate_key()  # Chave aleatória de 256 bits
   ```

2. **Busca de Arquivos:**

   - Varre recursivamente o diretório `test_files/`
   - Ignora o próprio script (`ransoware.py`)
   - Ignora arquivos de chave (`.key`)

3. **Criptografia:**

   - Lê o conteúdo do arquivo
   - Aplica criptografia Fernet
   - Sobrescreve o arquivo original

4. **Mensagem de Resgate:**
   - Cria arquivo `LEIA ISSO.txt`
   - Contém instruções para "pagamento"

### Processo de Descriptografia

1. **Carregamento da Chave:**

   ```python
   chave = open("chave.key", "rb").read()
   ```

2. **Descriptografia:**
   - Localiza arquivos criptografados
   - Aplica descriptografia com a chave
   - Restaura conteúdo original

## 🔍 Análise do Código

### `ransoware.py` - Componentes Principais

```python
# 1. Geração de chave criptográfica
def gerar_chave():
    chave = Fernet.generate_key()
    with open("chave.key", "wb") as chave_file:
        chave_file.write(chave)
    return chave

# 2. Criptografia de arquivo individual
def criptografar_arquivo(arquivo, chave):
    f = Fernet(chave)
    with open(arquivo, "rb") as file:
        dados = file.read()
    dados_criptografados = f.encrypt(dados)
    with open(arquivo, "wb") as file:
        file.write(dados_criptografados)

# 3. Busca recursiva por arquivos
def encontrar_arquivos(diretorio):
    # Implementa busca recursiva excluindo arquivos do sistema
```

### `descriptografar.py` - Processo Reverso

```python
# Processo inverso usando a mesma chave
def descriptografar_arquivo(arquivo, chave):
    f = Fernet(chave)
    dados_descriptografados = f.decrypt(dados)
```

## 🛡️ Medidas de Proteção

### Como Detectar Ransomware:

1. **Monitoramento de Arquivos:**

   - Alterações massivas em arquivos
   - Criação de arquivos de resgate
   - Atividade de criptografia suspeita

2. **Comportamento Anômalo:**

   - Alto uso de CPU para criptografia
   - Acesso simultâneo a muitos arquivos
   - Criação de chaves criptográficas

3. **Ferramentas de Detecção:**
   - Antivírus com proteção em tempo real
   - EDR (Endpoint Detection and Response)
   - Monitoramento de integridade de arquivos

### Como se Proteger:

1. **Backup Regular:**

   - Backup 3-2-1 (3 cópias, 2 mídias diferentes, 1 offline)
   - Teste regular de restauração
   - Backup automático e versionado

2. **Segurança Preventiva:**

   - Antivírus atualizado
   - Firewall configurado
   - Atualizações de sistema
   - Educação dos usuários

3. **Controle de Acesso:**
   - Princípio do menor privilégio
   - Segmentação de rede
   - Monitoramento de comportamento

## 🎯 Objetivos Educacionais

Este projeto demonstra:

1. **Funcionamento de Ransomware** - Como funciona tecnicamente
2. **Criptografia Simétrica** - Uso prático do algoritmo Fernet
3. **Manipulação de Arquivos** - Operações em massa com Python
4. **Impacto de Ataques** - Consequências de um ataque real
5. **Medidas Preventivas** - Estratégias de proteção

## 📊 Cenários de Teste

### Teste 1: Criptografia Básica

```bash
# Execute o ransomware
python ransoware.py

# Verifique os arquivos criptografados
cat test_files/dados_confidenciais.txt  # Conteúdo ilegível

# Verifique a mensagem de resgate
cat "LEIA ISSO.txt"
```

### Teste 2: Recuperação

```bash
# Execute a descriptografia
python descriptografar.py

# Verifique a recuperação
cat test_files/dados_confidenciais.txt  # Conteúdo original
```

### Teste 3: Sem Chave

```bash
# Delete a chave e tente descriptografar
rm chave.key
python descriptografar.py  # Deve falhar
```

## 🔬 Análise de Segurança

### Pontos Fortes (Do Ponto de Vista Técnico):

- ✅ Criptografia forte (AES 128)
- ✅ Chave única por execução
- ✅ Autenticação de integridade
- ✅ Sobrescrita de arquivos originais

### Limitações Intencionais (Para Segurança):

- ❌ Escopo limitado (`test_files/` apenas)
- ❌ Chave salva localmente
- ❌ Sem persistência no sistema
- ❌ Sem propagação de rede
- ❌ Sem ocultação avançada

## 🚨 Considerações Legais e Éticas

### ✅ **Uso Permitido:**

- Ambiente de laboratório isolado
- Pesquisa acadêmica supervisionada
- Treinamento em cibersegurança
- Desenvolvimento de contramedidas

### ❌ **Uso Proibido:**

- Sistemas de terceiros
- Redes corporativas
- Dados pessoais reais
- Qualquer uso malicioso

### ⚖️ **Responsabilidades:**

- Usuário assume total responsabilidade
- Deve seguir leis locais
- Usar apenas em ambiente controlado
- Não distribuir ou modificar para fins maliciosos

## 🎓 Exercícios Avançados

1. **Melhorar Segurança:**

   - Implementar criptografia assimétrica
   - Adicionar verificação de integridade
   - Criar sistema de chave mestra

2. **Análise Forense:**

   - Estudar artefatos deixados
   - Implementar detecção comportamental
   - Criar ferramentas de recuperação

3. **Contramedidas:**
   - Desenvolver sistema de backup automático
   - Criar honeypots para detecção
   - Implementar rollback de arquivos

## 📚 Referências Técnicas

- [Cryptography Documentation](https://cryptography.io/)
- [NIST Cybersecurity Framework](https://www.nist.gov/cyberframework)
- [OWASP Application Security](https://owasp.org/)
- [Python Security Best Practices](https://python.org/dev/security/)

## 🆘 Recuperação de Emergência

Se algo der errado durante os testes:

1. **Backup dos Arquivos de Teste:**

   ```bash
   # Restaure os arquivos originais
   echo "Dados a serem capturados" > test_files/dados_confidenciais.txt
   echo "senha1: DIO_2025@hackers!@#" > test_files/senhas.txt
   ```

2. **Limpeza do Ambiente:**
   ```bash
   # Remova arquivos gerados
   rm chave.key
   rm "LEIA ISSO.txt"
   ```

## 🤝 Contribuições Educacionais

Contribuições bem-vindas para:

- 📚 Melhorar documentação educacional
- 🔧 Adicionar recursos de análise
- 🛡️ Implementar medidas de proteção
- 🎯 Criar cenários de treinamento

---

**⚡ LEMBRE-SE:** Este conhecimento deve ser usado para PROTEGER, nunca para ATACAR. A educação em cibersegurança é fundamental para criar um mundo digital mais seguro! 🛡️


<div align="center">

### 🏆 **DESAFIO CONCLUÍDO COM SUCESSO!**

**[📚 Documentação Completa](documents/)** | **[🎯 Resultados Obtidos](#-resultados-obtidos-no-desafio)** | **[💭 Aprendizados](#-reflexões-e-aprendizados)**

---

### 🌟 **Projeto desenvolvido como parte do Santander Cibersegurança 2025**

**Desenvolvido com dedicação para demonstrar competências em ethical hacking e documentação técnica**

---

_Se este projeto foi útil para seus estudos, considere dar uma ⭐ no repositório!_

</div>
