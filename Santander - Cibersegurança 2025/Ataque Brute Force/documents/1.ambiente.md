# ğŸ›¡ï¸ Etapa 1: ConfiguraÃ§Ã£o do Ambiente de LaboratÃ³rio

## ğŸ“‹ Objetivo

Configurar um ambiente isolado e seguro para testes de penetraÃ§Ã£o utilizando virtualizaÃ§Ã£o, garantindo que todas as atividades de ciberseguranÃ§a sejam realizadas de forma controlada e sem riscos para sistemas de produÃ§Ã£o.

## ğŸ—ï¸ Arquitetura do LaboratÃ³rio

```mermaid
graph TB
    subgraph "Host Physical Machine"
        VB[VirtualBox Hypervisor]
        HO[Host-Only Network 192.168.56.0/24]

        subgraph "Attacker Machine"
            K[Kali Linux<br/>192.168.56.102<br/>Pentesting Tools]
        end

        subgraph "Target Machine"
            M[Metasploitable 2<br/>192.168.56.101<br/>Vulnerable Services]
        end

        VB --> K
        VB --> M
        HO --> K
        HO --> M
    end

    style K fill:#ff6b6b
    style M fill:#4ecdc4
    style HO fill:#ffe66d
```

---

## ğŸ’» Passo 1: InstalaÃ§Ã£o do Oracle VirtualBox

### ğŸ¯ Por que VirtualBox?

- **Gratuito e Open Source**: Sem custos de licenciamento
- **Multiplataforma**: Windows, macOS, Linux
- **Recursos avanÃ§ados**: Snapshots, clonagem, redes isoladas
- **Ampla compatibilidade**: Suporte a diversos sistemas operacionais

### ğŸ“¥ Download e InstalaÃ§Ã£o

#### 1. Download

```bash
# Site oficial
https://www.virtualbox.org/wiki/Downloads
```

#### 2. VersÃµes Recomendadas

| Sistema | VersÃ£o MÃ­nima | Recomendada       |
| ------- | ------------- | ----------------- |
| Windows | 6.1.x         | 7.0.x ou superior |
| macOS   | 6.1.x         | 7.0.x ou superior |
| Linux   | 6.1.x         | 7.0.x ou superior |

#### 3. Requisitos do Sistema

| Componente        | Requisito MÃ­nimo      | Recomendado       |
| ----------------- | --------------------- | ----------------- |
| **RAM**           | 4GB                   | 8GB+              |
| **CPU**           | Dual-core             | Quad-core+        |
| **Armazenamento** | 50GB livres           | 100GB+            |
| **VirtualizaÃ§Ã£o** | VT-x/AMD-V habilitada | VT-x/AMD-V + VT-d |

### âš™ï¸ ConfiguraÃ§Ã£o PÃ³s-InstalaÃ§Ã£o

#### 1. VerificaÃ§Ã£o da InstalaÃ§Ã£o

- Abrir VirtualBox Manager
- Verificar versÃ£o em **Ajuda > Sobre**
- Confirmar Extension Pack instalado

#### 2. ConfiguraÃ§Ãµes Globais Recomendadas

```bash
# ConfiguraÃ§Ãµes > Geral
- Pasta padrÃ£o de VMs: [Local com espaÃ§o suficiente]
- Biblioteca VRDP: Habilitada

# ConfiguraÃ§Ãµes > Entrada
- Captura automÃ¡tica do teclado: Desabilitada
- Host Key: Right Ctrl (padrÃ£o)
```

---

## ğŸ‰ Passo 2: ConfiguraÃ§Ã£o do Kali Linux

### ğŸ¯ Por que Kali Linux?

- **DistribuiÃ§Ã£o especializada** em seguranÃ§a ofensiva
- **400+ ferramentas** prÃ©-instaladas
- **AtualizaÃ§Ãµes constantes** de ferramentas
- **Comunidade ativa** e documentaÃ§Ã£o extensa

### ğŸ“¥ Download da Imagem

#### URLs Oficiais

```bash
# Download principal
https://www.kali.org/get-kali/

# Imagem recomendada
Kali Linux 2024.x VMware/VirtualBox (64-Bit) - .ova file
```

### ğŸ”§ ConfiguraÃ§Ã£o da VM Kali

#### 1. CriaÃ§Ã£o da MÃ¡quina Virtual

```bash
Nome: Kali-Linux-Pentest
Tipo: Linux
VersÃ£o: Debian (64-bit)
LocalizaÃ§Ã£o: [Pasta dedicada ao laboratÃ³rio]
```

#### 2. EspecificaÃ§Ãµes Recomendadas

| Recurso   | MÃ­nimo  | Recomendado | ExplicaÃ§Ã£o                     |
| --------- | ------- | ----------- | ------------------------------ |
| **RAM**   | 2GB     | 4GB+        | Ferramentas consomem memÃ³ria   |
| **CPU**   | 2 cores | 4 cores     | ParalelizaÃ§Ã£o de ataques       |
| **Disco** | 20GB    | 40GB+       | EspaÃ§o para logs e ferramentas |
| **VÃ­deo** | 64MB    | 128MB       | Interface grÃ¡fica fluida       |

#### 3. ConfiguraÃ§Ãµes EspecÃ­ficas

```bash
# Sistema > Placa-mÃ£e
âœ… Habilitar I/O APIC
âœ… Habilitar EFI
âœ… RelÃ³gio da VM em UTC

# Sistema > Processador
âœ… Habilitar PAE/NX
âœ… Habilitar VT-x/AMD-V aninhado

# Armazenamento
âœ… Controladora SATA
âœ… Disco SSD (se disponÃ­vel)
âœ… Cache de E/S: Host
```

### ğŸš€ InstalaÃ§Ã£o e ConfiguraÃ§Ã£o Inicial

#### 1. Processo de InstalaÃ§Ã£o

```bash
# OpÃ§Ãµes recomendadas durante instalaÃ§Ã£o
- Linguagem: PortuguÃªs (melhor compreensÃ£o)
- LocalizaÃ§Ã£o: Sua regiÃ£o
- Teclado: Seu layout
- Hostname: kali
- DomÃ­nio: localdomain
- UsuÃ¡rio: kali (padrÃ£o)
- Senha: [senha forte personalizada]
```

---

## ğŸ¯ Passo 3: ConfiguraÃ§Ã£o do Metasploitable 2

### ğŸ¯ Por que Metasploitable 2?

- **Intencionalmente vulnerÃ¡vel**: Projetado para treinamento
- **MÃºltiplas vulnerabilidades**: Diferentes vetores de ataque
- **Bem documentado**: Exploits conhecidos e catalogados
- **Ambiente seguro**: Isolado da rede principal

### ğŸ“¥ Download e PreparaÃ§Ã£o

#### 1. Download Oficial

```bash
# Source Forge (oficial)
https://sourceforge.net/projects/metasploitable/files/Metasploitable2/

# Arquivo recomendado
metasploitable-linux-2.0.0.zip (841MB)
```

### ğŸ”§ ConfiguraÃ§Ã£o da VM Metasploitable

#### 1. EspecificaÃ§Ãµes da VM

```bash
Nome: Metasploitable2-Target
Tipo: Linux
VersÃ£o: Ubuntu (64-bit)
```

#### 2. Recursos NecessÃ¡rios

| Recurso   | ConfiguraÃ§Ã£o   | Justificativa                    |
| --------- | -------------- | -------------------------------- |
| **RAM**   | 512MB          | Sistema leve, poucos recursos    |
| **CPU**   | 1 core         | Suficiente para serviÃ§os bÃ¡sicos |
| **Disco** | VMDK existente | Usar arquivo baixado             |
| **Rede**  | Host-Only      | Isolamento de seguranÃ§a          |

#### 3. ImportaÃ§Ã£o do VMDK

```bash
# Extrair arquivo baixado
unzip metasploitable-linux-2.0.0.zip

# No VirtualBox
1. Novo > Metasploitable2-Target
2. Armazenamento > Usar disco existente
3. Selecionar: Metasploitable.vmdk
4. Finalizar criaÃ§Ã£o
```

### ğŸ”‘ Credenciais PadrÃ£o

```bash
# Login SSH/Console
UsuÃ¡rio: msfadmin
Senha: msfadmin
```

---

## ğŸŒ Passo 4: ConfiguraÃ§Ã£o de Rede Host-Only

### ğŸ¯ Objetivos da Rede Isolada

- **Isolamento total**: VMs nÃ£o acessam internet
- **ComunicaÃ§Ã£o interna**: VMs se comunicam entre si
- **Acesso do host**: Host pode acessar as VMs
- **SeguranÃ§a**: Nenhum trÃ¡fego sai do ambiente

### ğŸ”§ ConfiguraÃ§Ã£o do VirtualBox

#### 1. ConfiguraÃ§Ã£o das VMs

##### Kali Linux

```bash
# VM Kali > ConfiguraÃ§Ãµes > Rede
Adaptador 1:
âœ… Habilitar placa de rede
âœ… Conectado a: Rede apenas do Host
âœ… Nome: vboxnet0
âœ… Tipo do adaptador: Intel PRO/1000 MT Desktop
```

##### Metasploitable 2

```bash
# VM Metasploitable > ConfiguraÃ§Ãµes > Rede
Adaptador 1:
âœ… Habilitar placa de rede
âœ… Conectado a: Rede apenas do Host
âœ… Nome: vboxnet0
âœ… Tipo do adaptador: Intel PRO/1000 MT Desktop
```

### ğŸ” VerificaÃ§Ã£o da ConfiguraÃ§Ã£o de Rede

#### 1. Teste no Kali Linux

```bash
# Verificar interface de rede
ifconfig

# Resultado esperado
eth0: 192.168.56.102/24

# Teste de conectividade
ping -c 3 192.168.56.101    # Metasploitable
```

#### 2. Teste no Metasploitable

```bash
# Login: msfadmin / msfadmin
ifconfig

# Resultado esperado
eth0: 192.168.56.101/24

# Teste de conectividade
ping -c 3 192.168.56.102    # Kali
```

---

## ğŸ›¡ï¸ ConsideraÃ§Ãµes de SeguranÃ§a

### âš ï¸ **AVISOS CRÃTICOS**

#### ğŸš¨ Isolamento ObrigatÃ³rio

> **NUNCA** conecte o Metasploitable Ã  internet ou rede de produÃ§Ã£o
>
> - Sistema intencionalmente vulnerÃ¡vel
> - Pode ser comprometido instantaneamente
> - Use **APENAS** em rede Host-Only


### ğŸ“‹ Checklist de SeguranÃ§a

- [ ] VMs configuradas em rede Host-Only
- [ ] Acesso Ã  internet das VMs bloqueado
- [ ] Firewall do host configurado
- [ ] Snapshots criados antes dos testes
- [ ] Senhas das VMs alteradas das padrÃµes
- [ ] Acesso SSH restrito por IP

---

## ğŸ¯ PrÃ³ximos Passos

### âœ… ValidaÃ§Ã£o Final do Ambiente

```bash
# Checklist de validaÃ§Ã£o
1. [ ] VirtualBox funcionando
2. [ ] Kali Linux instalado e atualizado
3. [ ] Metasploitable importado e iniciado
4. [ ] Rede Host-Only configurada
5. [ ] ComunicaÃ§Ã£o entre VMs testada
6. [ ] Snapshots criados
7. [ ] Ferramentas essenciais instaladas
```

### ğŸš€ PreparaÃ§Ã£o para PrÃ³ximas Etapas

- **Snapshots salvos**: Estado limpo para rollback
- **Ferramentas verificadas**: Nmap, Medusa, Metasploit
- **Conectividade confirmada**: Ping entre VMs funcional
- **DocumentaÃ§Ã£o**: Credenciais e IPs anotados

---

## ğŸ“š Recursos Adicionais

### ğŸ“– DocumentaÃ§Ã£o Oficial

- [VirtualBox Manual](https://www.virtualbox.org/manual/)
- [Kali Linux Documentation](https://www.kali.org/docs/)
- [Metasploitable Guide](https://docs.rapid7.com/metasploit/metasploitable-2-exploitability-guide/)

### ğŸ› ï¸ Ferramentas Alternativas

- **VMware Workstation**: Alternativa ao VirtualBox
- **Damn Vulnerable Linux**: Outro alvo vulnerÃ¡vel
- **DVWA**: AplicaÃ§Ã£o web vulnerÃ¡vel
- **VulnHub**: MÃ¡quinas vulnerÃ¡veis adicionais

---

## ğŸ Ambiente Configurado com Sucesso!

ParabÃ©ns! Seu laboratÃ³rio de ciberseguranÃ§a estÃ¡ pronto para as prÃ³ximas etapas do treinamento. VocÃª agora possui:

- âœ… **Ambiente isolado** e seguro para testes
- âœ… **Plataforma de ataque** (Kali Linux) configurada
- âœ… **Alvo vulnerÃ¡vel** (Metasploitable) preparado
- âœ… **Rede controlada** para simulaÃ§Ãµes realistas
- âœ… **Base sÃ³lida** para aprendizado prÃ¡tico de pentest
